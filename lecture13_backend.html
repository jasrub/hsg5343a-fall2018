<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Web Programming I: Lecture 13: Backend Basics</title>
        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/jasmin.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <link rel="shortcut icon" href="favicon.ico" />
        <style>
            .reveal h3 {
                text-transform: none;
            }

        </style>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h4>SVA HSG5343a Fall 2018</h4>
                    <h1>Web Programming I</h1>

                    <div class="lecture-title">Lecture 13 - Backend Basics</div>

                    <br/>
                    <p>Jasmin Rubinovitz</p>
                    <p><a href="mailto:yrubinovitz@sva.edu">yrubinovitz@sva.edu</a></p>
                </section>
                
                <section>
                    <a href="images/lecture13/examples.zip">Examples</a>
                </section>

                <section>
                    <h4>Reminder</h4>
                    <h3>How The Web Works</h3>
                    <div class="content" >
                        <ul>
                            <li><a href="http://mkcohen.com/how-the-web-works-in-one-easy-lesson" target="_blank">how the web works</a></li>
                            <li><a href="https://www.w3.org/People/Berners-Lee/Kids.html#What1">What happens when I click on a link</a></li>
                            <li><a href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/How_the_Web_works">MDN resources</a></li>
                            <li><a href="https://github.com/alex/what-happens-when">"What happens when you type google.com into your browser's address box and press enter?"</a></li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h3>Client and Server</h3>
                    <img class="stretch" src="images/lecture13/Client-server-model.svg"/>

                    <h5>The Web Browser</h5>
                    <p class="content">A web browser (commonly referred to as a browser) is a software application for accessing information on the World Wide Web. Each individual web page, image, and video is identified by a distinct URL, enabling browsers to retrieve and display them on the user's device.
                    </p>
                </section>

                <section>
                    <h3>Client ans Server</h3>
                    <h5>Data Persistence</h5>
                    <img class="stretch" src="images/lecture13/client_server.png"/>

                    <p class="content">
                        So far, we have talked about things happening in the browser, on the client side, using HTML, CSS and JavaScript.<br/>
                        We have not talked about storing data to be used over time
                    </p>
                </section>

                <section>
                    <h3>Managing State</h3>
                    <a href="images/lecture13/counter/" target="_blank">counter example</a>
                    <ul class="content">
                        <li>HTTP is a stateless protocol</li>
                        <li>Each time I refresh the page, the counter is reset to 0</li>
                        <li>The counter value is not persistent between sessions.</li>
                        <li>If someone else opens this page, the counter starts at 0</li>
                        <li>Think about managing a store inventory - we need one localized place that always knows how many items are in the inventory</li>
                    </ul>
                </section>

                <section>
                    <h3>State Management - Here Comes the Back-end / Server-side Scripting</h3>
                    <div class="content">
                        <p><a href="https://en.wikipedia.org/wiki/Server_(computing)" target="_blank">Wikipedia</a>: a server is a computer program or a device that provides functionality for other programs or devices, called "clients".</p>
                        <p>Examples for Server Functionality</p>
                        <ul>
                            <li>Hosting</li>
                            <li>Authentication</li>
                            <li>Storage</li>
                            <li>Database</li>
                        </ul>
                        <br/>
                        <p class="content">Goal for this semester: Be good at front-end, Understand Back-end concepts in order to know what you don't know</p>
                    </div>
                </section>

                <section>
                    <h3>Server Side Scripting</h3>
                    <div class="content">
                        <p>We can think about the server as a piece of code that is running on a computer somewhere. 
                            <br/>
                            As the browser is sending requests to the server, different functions are called and values are returned to the browser.
                        </p>
                        <p>Server programs can be written in many different <a href="https://en.wikipedia.org/wiki/Server-side_scripting#Languages" target="_blank">programming languages</a>, including JavaScript. (Using <a href="https://nodejs.org/en/" target="_blank">Node.js</a>)</p>
                    </div>
                </section>

                <section>
                    <h1>AJAX and JSON</h1>
                </section>


                <section>
                    <h3>AJAX</h3>
                    <div class="content">
                        <p>AJAX stands for "asynchronous JavaScript and XML" (which is not what it does). It is the term that we use to represent what you do when a website requests more information from a server after the page has loaded.</p>
                        <p>The ides: Only update a certain section of a page at a certain time with data from a server-side script (most of the times from the same domain and some times from a different domain)</p>

                        <br/><br/>
                        <ul>
                            <li>The <span class="stress">asynchronous</span> process:
                                <ol>
                                    <li>The web page sends its requests <span class="stress">using a JavaScript function</span> which handles talking to the server</li>
                                    <li>The JavaScript code makes a request to the server</li>
                                    <li>You continue to work on the page</li>
                                    <li>The server's response has only the data the page needs --without any markups</li>
                                    <li>The JavaScript dynamically updates the web page --without drawing everything or disturbing the user experience!</li>
                                </ol>
                            </li>
                        </ul>
                    </div>

                </section>

                <section>
                    <h3>AJAX Example</h3>
                    <div class="content">
                        <p>We're going to use AJAX to request data from a Server or an API. <br/>
                            An API is application programming interface, but what we mean we say API in this context is it's a public server that will allow us to make AJAX calls and it will respond. Most big websites will have some sort of public API, like Twitter for example. There are many <a href="https://github.com/toddmotto/public-apis">public APIs</a>.</p>
                        <p>The API we're going to use is <a href="https://dog.ceo/dog-api/">dog.ceo</a>. It's a simple, silly API that will give you back random pictures of dogs.</p>

                        <br/><br/>
                        <p><a href="">Dogs Example</a></p>
                    </div>
                </section>

                <section>
                    <h3>JavaScript Object Notation (JSON)</h3>
                    <div class="content">
                        <p>JSON stands for JavaScript Object Notation, and it's a very common way to exchange data over the Internet because it's machine readable but also pretty readable to humans. </p>

                        <p>For example, the dogs API returned a response similar to this: </p>
                        <pre>
                    <code data-trim no-space>
                    {
                      "status": "success",
                      "message": "https://images.dog.ceo/breeds/affenpinscher/n02110627_11783.jpg"
                    }
                    </code>
                    </pre>
                        <p>This is technically javascript</p>
                        <a href="http://json.parser.online.fr/" target="_blank">online JSON parser</a>
                        <ul>
                            <li>The JSON parser for JavaScript: <a href="https://github.com/douglascrockford/JSON-js" target="_blank">https://github.com/douglascrockford/JSON-js</a>; now built-in to most web browsers
                                <ul>
                                    <li>To encode (object to string): <code>namesSelected = JSON.stringify(listItems);</code></li>
                                    <li>To decode (string to object): <code>datasets = JSON.parse(txt);</code></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h1>Local Data Persistence</h1>
                    <h3>Cookies and Local Storage</h3>
                </section>

                <section>
                    <h3>Client-Side Cookies</h3>
                    <div class="content">


                        <ul>
                            <li>A small amount of information sent by a server to a browser, and then sent back by the browser on future page requests to same site; only data</li>
                            <li>Key-value pairs</li>
                            <li>Per <a href="http://www.ietf.org/rfc/rfc2109.txt" target="_blank">RFC 2109</a>, the maximum size of a cookie is 4 KB</li>
                            <li>The total number of cookies that can be stored is 300 with a maximum of 20 cookies accepted from a
                                particular server or domain</li>
                            <li>All cookies set by server are sent to server during interaction</li>
                            <li><span class="stress">Same-domain policy</span>: a domain cannot access a cookie set by another domain!</li>
                            <li>Can be manipulated on (i.e., <span class="stress">stored as file on client</span>)</li>
                            <li>Used for authentication, user tracking, maintaining states (e.g., preferences, shopping cart)</li>
                            <li>Can be persistent (i.e., last longer that browsing session)</li>
                        </ul>
                    </div>
                </section>
                
                <section>
                                        <h3>Client-Side Cookies</h3>
                    <div class="content">


                        <ul>
                            <li>Setting a cookie: <code>document.cookie = <span class="stress">updatedCookie</span>;</code> where <span class="stress">updatedCookie</span> is a string of form <span class="stress">key=value</span></li>
                            <li>See all the cookies set by site: <code>allCookies = document.cookie;</code></li>
                            <li>Getting the value of a cookie: find it in <code>document.cookie</code></li>
                            <li>Making a cookie last longer than current browsing session: append an additional attribute-value <code>;expires=<span class="stress">date-in-GMTString-format</span></code> to cookie.  Example: <code>";expires=Sat, 16 May 2009 18:40:22 GMT"</code></li>
                            <li>Reference: <a href="https://developer.mozilla.org/en-US/docs/DOM/document.cookie" target="_blank">https://developer.mozilla.org/en-US/docs/DOM/document.cookie</a></li>
                            <li>Example: <a href="images/lecture13/examples/cookies_example.html">cookies_example.html</a></li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h3>HTML5 Local Storage</h3>
                    <div class="content">
                        <ul>
                            <li>Provides key-value mappings (currently, string-to-string mappings)</li>
                            <li>Very much like cookies.</li>
                            <li>Differences:
                                <ul>
                                    <li>Cookies =&gt; 4 KB; localStorage =&gt; depends on browser (usually in MB)</li>
                                    <li>Unlike cookies, sessionStorage and localStorage data are NOT sent to server!</li>
                                    <li>sessionStorage data confined to browser window that it was created in, lasts until browser is closed</li>
                                    <li>localStorage has longer persistence, can last even after browser is closed</li>
                                </ul>
                            </li>
                            <li>To use:
                                <ul>
                                    <li><code>(localStorage | sessionStorage).setItem()</code></li>
                                    <li><code>(localStorage | sessionStorage).getItem()</code></li>
                                    <li><code>(localStorage | sessionStorage).deleteItem()</code></li>
                                </ul>
                            </li>
                            <li class="stress">Or use associative array syntax for localStorage or sessionStorage</li>
                            <li>Example: <a href="images/lecture13/examples/localstorage_example.html">localstorage_example.html</a></li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h3>Using URL Variables</h3>
                    <div class="content">
                    <p>We can also use url variables to pass data and information to our web page.
                        <br/> URL variables (also called parameters) are added after the address, there is a question mark at the start, followed by a list of key/value pairs separated with the & symbol.
                    </p>
                        </div>
                    <pre>
                    <code data-trim no-space>
                    http://www.example.com/path/to/myfile.html?key1=value1&key2=value2#SomewhereInTheDocument
                    </code>
                    </pre>
                    
                    <img src="images/lecture13/mdn-url-parameters@x2.png"/>
                    
                    <a href="images/lecture13/examples/url_parameters.html">url_parameters.html</a>
                        
                </section>
                
                <section>
                    <h1>Github Reminder</h1>
                </section>
                
                <section>
                    <h3>Github Resources</h3>
                    <ul>
                    <li><a href="https://desktop.github.com/" target="_blank">Github Desktop</a></li>
                    <li><a href="https://guides.github.com/activities/hello-world/" target="_blank">Github Hello World</a></li>
                    <li><a href="https://help.github.com/desktop/guides/" target="_blank">Github Desktop Guides</a></li>
                        </ul>
                </section>
                
                <section>
                    <h3>Serving your Website with Github Pages</h3>
                    <a href="https://pages.github.com/">https://pages.github.com/</a>
                </section>



                <section>
                    <h3>Assignment</h3>
                    <p>Continue working on your final projects. We will present them on our last class on 12/17 <br/>
                        Add CSS and JavaScript to control the look and behavior of the content of your story. <br/>
                        Submit a weekly progress report and let me know if you have any questions
                    </p>
                </section>



            </div>
        </div>
        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>
        <script>
            // More info about config & dependencies:
            // - https://github.com/hakimel/reveal.js#configuration
            // - https://github.com/hakimel/reveal.js#dependencies
            Reveal.initialize({
                // Push each slide change to the browser history
                history: true,
                // Display a presentation progress bar
                progress: true,
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
                ]
            });
        </script>
    </body>
</html>